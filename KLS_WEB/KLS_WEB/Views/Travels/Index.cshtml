@{
    ViewData["Title"] = "Viajes";
}
<div class="data-content">
    <div class="p-4">
        <div class="text-left mb-3">
            <div class="text-uppercase poppins medium size-24 pl-2">Viajes</div>
        </div>

        <div class="p-4 shadow bg-white">
            <table id="table" class="table table-striped table-bordered display table-hover table-viajes text-uppercase" width="100%">
                <thead>
                    <tr>
                        <th>ID Viaje</th>
                        <th>Cliente</th>
                        <th>Origen</th>
                        <th>Destino</th>
                        <th>Fecha Salida</th>
                        <th>Fecha Llegada</th>
                        <th>Estatus</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody id="table-info"></tbody>
            </table>
        </div>

    </div>
</div>

@section Scripts{
    <script>
        $(document).ready(function (event) {
            DT();
        });

        DT = () => {
            Table = $('#table').DataTable({
                destroy: true,
                responsive: true,
                autoWidth: true,
                processing: true,
                serverSide: true,
                ajax: {
                    type: 'POST',
                    url: '/Travels/getTravels'
                },
                columns: [
                    { data: 'folio' },
                    { data: 'cliente' },
                    { data: 'origen' },
                    { data: 'destino' },
                    { data: 'salida' },
                    { data: 'llegada' },
                    { data: 'estatus' },
                    {
                        data: 'id',
                        render: (Id, type, full, meta) => `
                                    <a href="/Travels/${Id}">
                                        <span class="material-icons">
                                            open_in_new
                                        </span>
                                    </a>`
                    }
                ],
                language: {
                    "decimal": "",
                    "emptyTable": "No hay informaciÃ³n",
                    "info": "Mostrando _START_ a _END_ de _TOTAL_ Entradas",
                    "infoEmpty": "Mostrando 0 to 0 of 0 Entradas",
                    "infoFiltered": "(Filtrado de _MAX_ total entradas)",
                    "infoPostFix": "",
                    "thousands": ",",
                    "lengthMenu": "Mostrar _MENU_ Entradas",
                    "loadingRecords": "Cargando...",
                    "processing": "Procesando...",
                    "search": "Buscar",
                    "zeroRecords": "Sin resultados encontrados",
                    "paginate": {
                        "first": "Primero",
                        "last": "Ultimo",
                        "next": "Siguiente",
                        "previous": "Anterior"
                    }
                },
                initComplete: () => {
                    $('#table_length').html(`<a href="/Travels/AddMainTravel" class="btn btn-sm btn-outline-secondary float-right"><span class="material-icons">add</span></a>`).show();
                }
            });
        }
    </script>
} 